Debugged digit counter algorithm in c